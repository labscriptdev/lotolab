import{i,t as o,v as m,z as r,A as s,N as f,x as e,O as j,P as A,Q as N,c as D,R as L,S as y,T as x,U as c,B as k,V as C,y as S,W as F,X as z}from"./entry.XMb_T0iN.js";import{u as J}from"./useAxios.LrvFFqb-.js";const E={class:"bg-surface"},G={__name:"table-virtual",props:{items:{type:Array,default:()=>[]},height:{type:String,default:"400px"},density:{type:String,default:"default"},zebra:{type:[Boolean,Array],default:!1}},emits:["update:modelValue"],setup(h,{emit:d}){const t=h,l=n=>{if(!t.zebra)return null;let b=["transparent","#0000000f"];return Array.isArray(t.zebra)&&(b=t.zebra),`background-color: ${b[n%b.length]};`};return(n,b)=>{const p=i("v-table"),_=i("v-virtual-scroll");return o(),m("div",E,[r(p,{density:t.density,style:{"margin-right":"14px"}},{default:s(()=>[e("colgroup",null,[f(n.$slots,"colgroup")]),e("thead",null,[e("tr",null,[f(n.$slots,"header")])])]),_:3},8,["density"]),r(_,{height:t.height,items:t.items},{default:s(g=>[r(p,{density:t.density},{default:s(()=>[e("colgroup",null,[f(n.$slots,"colgroup")]),e("tbody",null,[e("tr",{style:j(l(g.index))},[f(n.$slots,"row",N(A(g)))],4)])]),_:2},1032,["density"])]),_:3},8,["height","items"])])}}},Q=(h={})=>{h={type:"mega-sena",...h};const d=J({method:"get",url:`https://raw.githubusercontent.com/labscriptdev/static-api/main/data/loteria/${h.type}.json`,autoSubmit:!0,response:{data:[]},filters:{response(t){return t.data.data=t.data.data.reverse().map(l=>(l.numbers=l.numbers.map(n=>d.padStart(n,2,"0")),l)),t}},numbers:[],numberToggle(t){const l=this.numbers.indexOf(t);l>=0?this.numbers.splice(l,1):this.numbers.push(t)},numbersSet(t){this.numbers=JSON.parse(JSON.stringify(t))},padStart(t){return String(t).padStart(2,"0")},table:D(()=>{let t=[],l=[];for(let n=d.response.rangeStart;n<=d.response.rangeFinal;n++)l.push(d.padStart(n)),l.length==d.response.rangePerRow&&(t.push(l),l=[]);return t})});return d},U={class:"pa-1"},W=["onClick"],X=e("br",null,null,-1),q={class:"d-flex justify-end",style:{gap:"15px"}},H=e("col",{width:"80px"},null,-1),I=e("col",{width:"150px"},null,-1),K=e("col",{width:"*"},null,-1),M=e("col",{width:"50px"},null,-1),Y=e("th",null,"Sorteio",-1),Z=e("th",null,"Data",-1),tt=e("th",null,"Números",-1),et=e("th",null,"Ações",-1),st={class:"d-flex flex-wrap",style:{gap:"6px",padding:"4px"}},lt={class:"d-flex"},ot={__name:"[slug]",setup(h){const d=L(),t=Q({type:d.params.slug}),l=async()=>{const p=await navigator.clipboard.readText();t.numbers=p.split(/[^0-9]/).filter(_=>!!_).map(t.padStart)},n={VBtn:{flat:!0,size:35}},b=p=>({selectAll:{icon:"material-symbols:text-select-jump-to-beginning-rounded",title:"Selecionar tudo",onClick(){t.numbersSet(p.item.numbers)}}});return(p,_)=>{const g=i("v-table"),v=i("v-btn"),B=i("v-card-text"),V=i("v-card"),$=i("v-col"),T=i("v-tooltip"),P=i("v-defaults-provider"),O=G,R=i("v-row");return o(),m("div",null,[r(R,null,{default:s(()=>[r($,{cols:"12",md:"5"},{default:s(()=>[r(V,{elevation:"0"},{default:s(()=>[r(B,null,{default:s(()=>[r(g,null,{default:s(()=>[e("tbody",null,[(o(!0),m(y,null,x(c(t).table,a=>(o(),m("tr",null,[(o(!0),m(y,null,x(a,u=>(o(),m("td",U,[e("div",{style:{cursor:"pointer"},class:z(["pa-2 text-center rounded bg-grey-lighten-3",{"bg-primary":c(t).numbers.includes(u)}]),onClick:w=>c(t).numberToggle(u)},S(u),11,W)]))),256))]))),256))])]),_:1}),X,e("div",q,[r(v,{color:"primary",onClick:_[0]||(_[0]=a=>l())},{default:s(()=>[k("Colar")]),_:1}),r(v,{color:"primary",onClick:_[1]||(_[1]=a=>c(t).numbers=[]),disabled:c(t).numbers.length==0},{default:s(()=>[k("Limpar")]),_:1},8,["disabled"])])]),_:1})]),_:1})]),_:1}),r($,{cols:"12",md:"7"},{default:s(()=>[c(t).response.data[0]?(o(),C(O,{key:0,density:"compact",items:c(t).response.data,height:"80vh",zebra:!0},{colgroup:s(a=>[H,I,K,M]),header:s(a=>[Y,Z,tt,et]),row:s(a=>[e("td",null,S(a.item.number),1),e("td",null,S(a.item.date),1),e("td",null,[e("div",st,[(o(!0),m(y,null,x(a.item.numbers,u=>(o(),C(v,{color:"grey-lighten-3",elevation:"0",onClick:w=>c(t).numberToggle(u),class:z({"bg-primary":c(t).numbers.includes(u)})},{default:s(()=>[k(S(u),1)]),_:2},1032,["onClick","class"]))),256))])]),e("td",null,[e("div",lt,[r(P,{defaults:n},{default:s(()=>[(o(!0),m(y,null,x(b(a),u=>(o(),C(T,{text:u.title||null},{activator:s(w=>[r(v,N(A({...u,...w.props})),null,16)]),_:2},1032,["text"]))),256))]),_:2},1024)])])]),_:1},8,["items"])):F("",!0)]),_:1})]),_:1})])}}};export{ot as default};
